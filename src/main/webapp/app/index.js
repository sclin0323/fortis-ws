System.registerDynamic("app/models/sys-setting.model.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(){}return a}();return b.SysSettingModel=d,c.exports}),System.registerDynamic("app/routes/+forti-manage/forti-manage.component.js",["@angular/core","@angular/http","rxjs/add/operator/toPromise","rxjs/add/operator/map","@angular/common","../../models/sys-setting.model","../../environment"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=a("@angular/core"),g=a("@angular/http");a("rxjs/add/operator/toPromise"),a("rxjs/add/operator/map");var h=a("@angular/common"),i=a("../../models/sys-setting.model"),j=a("../../environment"),k=function(){function a(a){this.http=a,this.sysSettingValid=!1,this.sysSetting=new i.SysSettingModel,console.info(j.environment)}return a.prototype.ngOnInit=function(){var a=this;jQuery("#ajaxWaitingModal").modal("show"),this.http.get(j.environment.urlPrefix+"sysSetting/read").map(function(a){return a.json()}).subscribe(function(b){return a.success(b)},this.logError)},a.prototype.success=function(a){console.info(a),a.success===!1?alert(a.message):(this.sysSetting=a.data,this.sysSettingValid=!0),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.logError=function(a){console.info("logError"),alert("執行發生錯誤!!");var b=window.open("","","width=600,height=300",!1);b.document.write(JSON.stringify(a._body)),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.updateSysSetting=function(){var a=this;console.info("update"),jQuery("#ajaxWaitingModal").modal("show");var b=new g.Headers;b.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this.http.put(j.environment.urlPrefix+"sysSetting/update",JSON.stringify(this.sysSetting),{headers:b}).map(function(a){return a.json()}).subscribe(function(b){return a.updateSuccess(b)},this.logError)},a.prototype.updateSuccess=function(a){jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.getSystemStatus=function(){var a=this,b=new g.Headers;b.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this.http.post(j.environment.urlPrefix+"sysSetting/getSystemStatus",JSON.stringify(this.sysSetting),{headers:b}).map(function(a){return a.json()}).subscribe(function(b){return a.checkSuccess(b)},this.logError)},a.prototype.checkSuccess=function(a){var b=window.open("","","width=600,height=300",!1);b.document.write(JSON.stringify(a)),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onSubmitInitial=function(){var a=this,b=new g.Headers;b.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this.http.post(j.environment.urlPrefix+"sysSetting/add",JSON.stringify({}),{headers:b}).map(function(a){return a.json()}).subscribe(function(b){return a.addSuccess(b)},this.logError)},a.prototype.addSuccess=function(a){this.sysSetting=a.data,this.sysSettingValid=!0,jQuery("#ajaxWaitingModal").modal("hide")},a=d([f.Component({moduleId:c.id,selector:"app-forti-manage",templateUrl:"forti-manage.component.html",styleUrls:["forti-manage.component.css"],directives:[h.NgClass,h.NgIf,h.CORE_DIRECTIVES,h.FORM_DIRECTIVES]}),e("design:paramtypes",[g.Http])],a)}();return b.FortiManageComponent=k,c.exports}),System.registerDynamic("app/routes/+forti-manage/index.js",["./forti-manage.component"],!0,function(a,b,c){"use strict";var d=a("./forti-manage.component");return b.FortiManageComponent=d.FortiManageComponent,c.exports}),System.registerDynamic("app/models/user-device.model.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(){this.deviceGroup="none-auth-group-0"}return a}();return b.UserDeviceModel=d,c.exports}),System.registerDynamic("app/routes/+forti-user-device-manage/forti-user-device-manage.component.js",["@angular/core","@angular/common","@angular/http","rxjs/add/operator/toPromise","rxjs/add/operator/map","../../ajax-waiting/ajax-waiting.component","../../environment","../../models/user-device.model"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=a("@angular/core"),g=a("@angular/common"),h=a("@angular/http");a("rxjs/add/operator/toPromise"),a("rxjs/add/operator/map");var i=a("../../ajax-waiting/ajax-waiting.component"),j=a("../../environment"),k=a("../../models/user-device.model"),l=function(){function a(a){this.addUserDevice=new k.UserDeviceModel,this.updateUserDevice=new k.UserDeviceModel,this.searchWord="",this.totalPages=0,this.pageSize=30,this.userDevices=[],this._http=a}return a.prototype.ngOnInit=function(){var a=this,b=j.environment.urlPrefix;jQuery("#page-selection").bootpag({total:this.totalPages}).on("page",function(c,d){var e=(parseInt(d)-1)*a.pageSize,f=a.pageSize,g={searchWord:jQuery("#searchWord").val(),page:d,start:e,limit:f};jQuery.ajax({url:b+"userDevice/read",data:g,type:"GET",dataType:"json",success:function(b){a.userDevices=b.data}})})},a.prototype.onSubmitCreate=function(a){var b=this,c=new h.Headers;c.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this._http.post(j.environment.urlPrefix+"userDevice/add",JSON.stringify(this.addUserDevice),{headers:c}).map(function(a){return a.json()}).subscribe(function(a){return b.addSuccess(a)},this.logError)},a.prototype.addSuccess=function(a){if(console.info(a),0===a.status){var b=new k.UserDeviceModel;b=a.data,this.userDevices.push(b),this.addUserDevice=new k.UserDeviceModel}else a.status===-1?alert(a.message):alert(a);jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onClickPreUpdate=function(a,b){console.info(a),this.updateUserDevice=jQuery.extend({},a),this.updateIndex=b,console.info(this.updateUserDevice),jQuery('#crudtabs a[href="#updatetab"]').tab("show")},a.prototype.onSubmitUpdate=function(){var a=this;jQuery("#ajaxWaitingModal").modal("show");var b=new h.Headers;b.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this._http.put(j.environment.urlPrefix+"userDevice/update",JSON.stringify(this.updateUserDevice),{headers:b}).map(function(a){return a.json()}).subscribe(function(b){return a.updateSuccess(b)},this.logError)},a.prototype.updateSuccess=function(a){0===a.status?(this.userDevices[this.updateIndex]=a.data,this.updateUserDevice=new k.UserDeviceModel):a.status===-1?alert(a.message):alert(a),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onSubmitDelete=function(a,b){var c=this;this.deleteIndex=b,jQuery("#ajaxWaitingModal").modal("show");var d=new h.URLSearchParams;d.set("deviceName",a.deviceName),console.info(a.deviceGroup),d.set("deviceGroup",a.deviceGroup),this._http["delete"](j.environment.urlPrefix+"userDevice/delete",{search:d}).map(function(a){return a.json()}).subscribe(function(a){return c.deleteSuccess(a)},this.logError)},a.prototype.deleteSuccess=function(a){console.info(a),0===a.status&&(console.info(a),this.userDevices.splice(this.deleteIndex,1)),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onClickSearch=function(a){var b=this,c=new h.URLSearchParams;c.set("searchWord",this.searchWord),c.set("page","1"),c.set("start","0"),c.set("limit",this.pageSize.toString()),jQuery("#ajaxWaitingModal").modal("show"),this._http.get(j.environment.urlPrefix+"userDevice/read",{search:c}).map(function(a){return a.json()}).subscribe(function(a){return b.readSuccess(a)},this.logError)},a.prototype.logError=function(a){console.info("logError"),alert("執行發生錯誤!!");var b=window.open("","","width=600,height=300",!1);b.document.write(JSON.stringify(a._body)),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.readSuccess=function(a){this.userDevices=a.data,this.totalPages=Math.ceil(a.total/this.pageSize),jQuery("#page-selection").bootpag({page:1,total:this.totalPages,maxVisible:10}),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.setLowerCaseAddMacAddress=function(a){this.addUserDevice.macAddress=this.addUserDevice.macAddress.toLowerCase()},a.prototype.setLowerCaseUpdateMacAddress=function(a){this.updateUserDevice.macAddress=this.updateUserDevice.macAddress.toLowerCase()},a=d([f.Component({moduleId:c.id,selector:"app-forti-user-device-manage",templateUrl:"forti-user-device-manage.component.html",styleUrls:["forti-user-device-manage.component.css"],directives:[g.NgClass,g.NgIf,g.CORE_DIRECTIVES,g.FORM_DIRECTIVES,i.AjaxWaitingComponent]}),e("design:paramtypes",[h.Http])],a)}();return b.FortiUserDeviceManageComponent=l,c.exports}),System.registerDynamic("app/routes/+forti-user-device-manage/index.js",["./forti-user-device-manage.component"],!0,function(a,b,c){"use strict";var d=a("./forti-user-device-manage.component");return b.FortiUserDeviceManageComponent=d.FortiUserDeviceManageComponent,c.exports}),System.registerDynamic("app/models/sys-user.model.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(){this.role="ROLE_ADMIN",this.changePassword=!1}return a}();return b.SysUserModel=d,c.exports}),System.registerDynamic("app/routes/+sys-user/sys-user.component.js",["@angular/core","@angular/common","@angular/http","rxjs/add/operator/toPromise","rxjs/add/operator/map","../../ajax-waiting/ajax-waiting.component","../../environment","../../models/sys-user.model"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=a("@angular/core"),g=a("@angular/common"),h=a("@angular/http");a("rxjs/add/operator/toPromise"),a("rxjs/add/operator/map");var i=a("../../ajax-waiting/ajax-waiting.component"),j=a("../../environment"),k=a("../../models/sys-user.model"),l=function(){function a(a){this.addSysUser=new k.SysUserModel,this.updateSysUser=new k.SysUserModel,this.searchWord="",this.totalPages=0,this.pageSize=30,this.sysUsers=[],this._http=a}return a.prototype.ngOnInit=function(){var a=this,b=j.environment.urlPrefix;jQuery("#page-selection").bootpag({total:this.totalPages}).on("page",function(c,d){var e=(parseInt(d)-1)*a.pageSize,f=a.pageSize,g={searchWord:jQuery("#searchWord").val(),page:d,start:e,limit:f};jQuery.ajax({url:b+"sysUser/read",data:g,type:"GET",dataType:"json",success:function(b){a.sysUsers=b.data}})})},a.prototype.onSubmitCreate=function(a){var b=this;if(this.addSysUser.password!==this.addSysUser.repassword)return void alert("密碼與再次密碼不一致請重新確認!!");var c=new h.Headers;c.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this._http.post(j.environment.urlPrefix+"sysUser/add",JSON.stringify(this.addSysUser),{headers:c}).map(function(a){return a.json()}).subscribe(function(a){return b.addSuccess(a)},this.logError)},a.prototype.addSuccess=function(a){if(console.info(a),0===a.status){var b=new k.SysUserModel;b=a.data,this.sysUsers.push(b),this.addSysUser=new k.SysUserModel}else a.status===-1?alert(a.message):alert(a);jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onClickPreUpdate=function(a,b){this.updateSysUser=jQuery.extend({},a),this.updateSysUser.password="",this.updateSysUser.newPassword="",this.updateSysUser.changePassword=!1,this.updateIndex=b,console.info(this.updateSysUser),jQuery('#crudtabs a[href="#updatetab"]').tab("show")},a.prototype.onSubmitUpdate=function(){var a=this;if(1==this.updateSysUser.changePassword){if(null==this.updateSysUser.newPassword||null==this.updateSysUser.renewPassword||null==this.updateSysUser.password)return void alert("密碼欄位不可為空!!");if(this.updateSysUser.newPassword!==this.updateSysUser.renewPassword)return void alert("密碼與再次密碼不一致請重新確認!!")}jQuery("#ajaxWaitingModal").modal("show");var b=new h.Headers;b.append("Content-Type","application/json"),jQuery("#ajaxWaitingModal").modal("show"),this._http.put(j.environment.urlPrefix+"sysUser/update",JSON.stringify(this.updateSysUser),{headers:b}).map(function(a){return a.json()}).subscribe(function(b){return a.updateSuccess(b)},this.logError)},a.prototype.updateSuccess=function(a){0===a.status?(this.sysUsers[this.updateIndex]=a.data,this.updateSysUser=new k.SysUserModel):a.status===-1?alert(a.message):alert(a),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onSubmitDelete=function(a,b){var c=this;this.deleteIndex=b,jQuery("#ajaxWaitingModal").modal("show");var d=new h.URLSearchParams;d.set("sysUserId",a.sysUserId),this._http["delete"](j.environment.urlPrefix+"sysUser/delete",{search:d}).map(function(a){return a.json()}).subscribe(function(a){return c.deleteSuccess(a)},this.logError)},a.prototype.deleteSuccess=function(a){console.info(a),0===a.status&&(console.info(a),this.sysUsers.splice(this.deleteIndex,1)),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.onClickSearch=function(a){var b=this,c=new h.URLSearchParams;c.set("searchWord",this.searchWord),c.set("page","1"),c.set("start","0"),c.set("limit",this.pageSize.toString()),jQuery("#ajaxWaitingModal").modal("show"),this._http.get(j.environment.urlPrefix+"sysUser/read",{search:c}).map(function(a){return a.json()}).subscribe(function(a){return b.readSuccess(a)},this.logError)},a.prototype.readSuccess=function(a){this.sysUsers=a.data,this.totalPages=Math.ceil(a.total/this.pageSize),jQuery("#page-selection").bootpag({page:1,total:this.totalPages,maxVisible:10}),jQuery("#ajaxWaitingModal").modal("hide")},a.prototype.logError=function(a){console.info("logError"),alert("執行發生錯誤!!");var b=window.open("","","width=600,height=300",!1);b.document.write(JSON.stringify(a._body)),jQuery("#ajaxWaitingModal").modal("hide")},a=d([f.Component({moduleId:c.id,selector:"app-sys-user",templateUrl:"sys-user.component.html",styleUrls:["sys-user.component.css"],directives:[g.NgClass,g.NgIf,g.CORE_DIRECTIVES,g.FORM_DIRECTIVES,i.AjaxWaitingComponent]}),e("design:paramtypes",[h.Http])],a)}();return b.SysUserComponent=l,c.exports}),System.registerDynamic("app/routes/+sys-user/index.js",["./sys-user.component"],!0,function(a,b,c){"use strict";var d=a("./sys-user.component");return b.SysUserComponent=d.SysUserComponent,c.exports}),System.registerDynamic("app/ajax-waiting/ajax-waiting.component.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=a("@angular/core"),g=function(){function a(){}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-ajax-waiting",templateUrl:"ajax-waiting.component.html",styleUrls:["ajax-waiting.component.css"]}),e("design:paramtypes",[])],a)}();return b.AjaxWaitingComponent=g,c.exports}),System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0,version:"v1.0.1",urlPrefix:"web/"},c.exports}),System.registerDynamic("app/fortis-wsng2.component.js",["@angular/core","@angular/router","./routes/+forti-manage","./routes/+forti-user-device-manage","./routes/+sys-user","./ajax-waiting/ajax-waiting.component","@angular/http","rxjs/add/operator/toPromise","rxjs/add/operator/map","./environment"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=a("@angular/core"),g=a("@angular/router"),h=a("./routes/+forti-manage"),i=a("./routes/+forti-user-device-manage"),j=a("./routes/+sys-user"),k=a("./ajax-waiting/ajax-waiting.component"),l=a("@angular/http");a("rxjs/add/operator/toPromise"),a("rxjs/add/operator/map");var m=a("./environment"),n=function(){function a(a){this.title="Fortis 管理系統",this._http=a,this.version=m.environment.version}return a.prototype.ngOnInit=function(){var a=this,b=new l.URLSearchParams;this._http.get(m.environment.urlPrefix+"sysUser/getUserInfo",{search:b}).map(function(a){return a.json()}).subscribe(function(b){return a.readSuccess(b)},this.logError)},a.prototype.readSuccess=function(a){console.info(a.data),this.sysUserId=a.data.sysUserId,this.sysUserName=a.data.sysUserName},a.prototype.logout=function(){var a=this;console.info(m.environment.urlPrefix+"j_spring_security_logout");var b=new l.URLSearchParams;this._http.get("http://localhost:8080/j_spring_security_logout",{search:b}).map(function(a){return a.json()}).subscribe(function(b){return a.logoutSuccess(b)},this.logError)},a.prototype.logoutSuccess=function(a){console.info("logoutSuccess")},a.prototype.logError=function(a){console.info("logError"),alert("執行發生錯誤!!");var b=window.open("","","width=600,height=300",!1);b.document.write(JSON.stringify(a._body))},a=d([f.Component({moduleId:c.id,selector:"fortis-wsng2-app",templateUrl:"fortis-wsng2.component.html",styleUrls:["fortis-wsng2.component.css"],directives:[g.ROUTER_DIRECTIVES,k.AjaxWaitingComponent],providers:[g.ROUTER_PROVIDERS]}),g.Routes([{path:"/forti-manage",component:h.FortiManageComponent},{path:"/forti-user-device-manage",component:i.FortiUserDeviceManageComponent},{path:"/sys-user",component:j.SysUserComponent}]),e("design:paramtypes",[l.Http])],a)}();return b.FortisWsng2AppComponent=n,c.exports}),System.registerDynamic("app/index.js",["./environment","./fortis-wsng2.component"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}return d(a("./environment")),d(a("./fortis-wsng2.component")),c.exports});